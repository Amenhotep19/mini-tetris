<body id=Z>
<script>
R=e=>{P=[...'716160504030312120'.substr(new Date%6*2,8)].map(i=>+i),T=200}
R(B=[...Array(18)].map(i=>S=0))
A=p=>(H=0,b=[...B],p.map((v,i)=>{i%2||(H|=v<0||v>9||p[i+1]<0||p[i+1]>17||b[p[i+1]]>>v&1),b[p[i+1]]|=i%2?0:1<<v}),H)
D=e=>($='',e.map((v,y)=>(e.map((n,x)=>x>9||($+=`<input type=radio ${v>>x&1?'checked':''}>`),$+='<br>'))),Z.innerHTML=$+S)
M=(p,x,y)=>p.map((v,i)=>i%2?+v+y:+v+x)
U=e=>{B=[0,0,0,0].concat(B).filter(v=>v-1023||(++S,0)).slice(-18)}
(_=e=>{A(p=M(P,0,1))?(A(P),B=b,U(),D(B),R()):(P=p,D(b)),setTimeout(_,T)})()
onkeydown=e=>(k=e.keyCode-38)-2?k-1&&~k?k?0:A(p=P.map((v,i)=>i%2?-P[i-1]+P[2]+P[3]:P[i+1]+P[2]-P[3]))?0:P=p:A(p=M(P,k,0))?0:P=p:T=20
</script>
